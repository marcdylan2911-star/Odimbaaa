<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kenayah</title>
  <meta name="theme-color" content="#ff4d8d" />
  <style>
    :root{
      --pink:#ff4d8d; --pink2:#ff7bb3; --bg:#0b0b10;
      --shadow: 0 20px 60px rgba(0,0,0,.45);
      --text: rgba(255,255,255,.92); --muted: rgba(255,255,255,.75);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      color:var(--text);
      background:var(--bg);
      overflow:hidden
    }

    .bg{
      position:fixed;inset:0;
      background:url('background.jpg') center/cover no-repeat;
      transform:scale(1.05);
      filter:saturate(1.1) contrast(1.05) brightness(.78)
    }
    .bg:after{
      content:"";position:absolute;inset:0;
      background:
        radial-gradient(60% 60% at 50% 35%, rgba(255,77,141,.35), rgba(0,0,0,.15) 60%, rgba(0,0,0,.65) 100%),
        linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.65));
      backdrop-filter:blur(6px)
    }

    .wrap{position:relative;height:100%;display:flex;align-items:center;justify-content:center;padding:18px}
    .card{
      width:min(760px,92vw);
      border-radius:26px;
      background:linear-gradient(135deg, rgba(255,255,255,.16), rgba(255,255,255,.06));
      border:1px solid rgba(255,255,255,.18);
      box-shadow:var(--shadow);
      backdrop-filter:blur(14px);
      overflow:hidden;
      position:relative;
      animation:pop .6s cubic-bezier(.2,.9,.2,1) both
    }
    .card:before{
      content:"";position:absolute;inset:-2px;
      background:
        radial-gradient(40% 40% at 30% 20%, rgba(255,77,141,.35), transparent 60%),
        radial-gradient(40% 40% at 80% 30%, rgba(255,123,179,.28), transparent 60%),
        radial-gradient(50% 50% at 50% 120%, rgba(255,255,255,.10), transparent 55%);
      pointer-events:none
    }
    @keyframes pop{from{transform:translateY(18px) scale(.98);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}

    .top{display:flex;gap:18px;padding:26px 26px 10px;align-items:center}
    .avatar{
      width:86px;height:86px;border-radius:22px;
      background:url('background.jpg') center/cover;
      border:1px solid rgba(255,255,255,.22);
      box-shadow:0 14px 40px rgba(0,0,0,.35);
      position:relative;overflow:hidden;
      transform:rotate(-2deg)
    }
    .avatar:after{
      content:"";position:absolute;inset:0;
      background:
        radial-gradient(60% 60% at 30% 20%, rgba(255,255,255,.18), transparent 55%),
        linear-gradient(180deg, transparent, rgba(0,0,0,.25))
    }
    h1{margin:0;font-size:clamp(22px,3.2vw,34px);line-height:1.12}
    .sub{margin-top:6px;color:var(--muted);font-size:14.5px}
    .main{padding:10px 26px 26px}

    .hideHeader .top{display:none}
    .hideHeader .main{padding:42px 26px 26px}

    .step{display:none}
    .step.active{display:block}

    .centerMsg{
      text-align:center;
      font-weight:900;
      letter-spacing:.3px;
      font-size:clamp(22px,4.8vw,40px);
      padding:26px 18px 16px;
      line-height:1.25;
    }

    .nextRow{display:flex;justify-content:center;margin-top:14px}
    .nextBtn{
      border:0;
      padding:12px 18px;
      border-radius:999px;
      font-weight:800;
      cursor:pointer;
      transition:transform .12s ease,filter .12s ease;
      font-size:16px;
      background:linear-gradient(135deg,var(--pink),var(--pink2));
      color:#fff;
      box-shadow:0 14px 30px rgba(255,77,141,.28)
    }
    .nextBtn:hover{filter:brightness(1.05);transform:translateY(-1px)}
    .nextBtn:active{transform:translateY(1px) scale(.99)}

    .gifBox{
      margin:12px auto 0;
      width:min(520px,88vw);
      border-radius:22px;
      border:1px solid rgba(255,255,255,.20);
      box-shadow:0 18px 60px rgba(0,0,0,.45);
      overflow:hidden;
      background:rgba(255,255,255,.08);
    }
    .gifBox img{display:block;width:100%;height:auto}

    .letter{
      margin-top:6px;
      background:rgba(255,255,255,.92);
      color:#16161c;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.55);
      box-shadow:0 18px 60px rgba(0,0,0,.35);
      overflow:hidden;
      position:relative;
    }
    .letterInner{
      padding:22px 22px 60px;
      font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
      line-height:1.7;
      font-size:17px;
    }
    .letterFrame{
      position:absolute; inset:0;
      border:10px solid rgba(255,77,141,.65);
      pointer-events:none;
      border-radius:18px;
      mix-blend-mode:multiply;
      opacity:.55;
    }
    .letterLine{margin:0 0 12px; font-weight:700}
    .sign{
      position:absolute;
      right:18px;
      bottom:16px;
      font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
      font-weight:700;
      opacity:.9;
    }

    .question{margin:10px 0 18px;font-size:clamp(18px,2.5vw,22px);color:rgba(255,255,255,.9);text-align:center}
    .btns{display:flex;gap:14px;flex-wrap:wrap;align-items:center;justify-content:center;position:relative}
    button{
      border:0;padding:12px 18px;border-radius:999px;font-weight:800;cursor:pointer;
      transition:transform .12s ease,filter .12s ease;font-size:16px
    }
    button:active{transform:translateY(1px) scale(.99)}
    #yes{background:linear-gradient(135deg,var(--pink),var(--pink2));color:#fff;box-shadow:0 14px 30px rgba(255,77,141,.28)}
    #yes:hover{filter:brightness(1.05);transform:translateY(-1px)}
    #no{background:rgba(255,255,255,.14);color:rgba(255,255,255,.88);border:1px solid rgba(255,255,255,.20);box-shadow:0 12px 24px rgba(0,0,0,.25);position:relative}
    #no:hover{transform:translateY(-1px)}

    .result{display:none;margin-top:14px;text-align:center}
    .typewriter{
      display:inline-block;border-right:2px solid rgba(255,255,255,.75);
      white-space:nowrap;overflow:hidden;animation:caret .9s steps(1) infinite
    }
    @keyframes caret{50%{border-color:transparent}}

    canvas{position:fixed;inset:0;pointer-events:none;opacity:0;transition:opacity .2s;z-index:9}
    canvas.show{opacity:1}

    @media (max-width:520px){
      .top{padding:20px 20px 6px}.main{padding:8px 20px 22px}
      .avatar{width:74px;height:74px;border-radius:20px}
      .letterInner{font-size:16px}
    }
  </style>
</head>

<body>
  <div class="bg" aria-hidden="true"></div>
  <canvas id="c"></canvas>

  <main class="wrap">
    <section class="card hideHeader" id="card">
      <div class="top">
        <div class="avatar" aria-hidden="true"></div>
        <div>
          <h1>Kenayah</h1>
          <div class="sub">j‚Äôai une question ultra importante</div>
        </div>
      </div>

      <div class="main">

        <!-- STEP 1 -->
        <div class="step active" id="step1">
          <div class="centerMsg">from dydy</div>
          <div class="nextRow">
            <button class="nextBtn" data-next="2">Suivant</button>
          </div>
        </div>

        <!-- STEP 2 -->
        <div class="step" id="step2">
          <div class="letter">
            <div class="letterFrame"></div>
            <div class="letterInner">
              <p class="letterLine">to my fav person</p>
              <p class="letterLine">To my girl</p>
              <p class="letterLine">To my opps</p>
            </div>
            <div class="sign">your man</div>
          </div>
          <div class="nextRow" style="margin-top:16px">
            <button class="nextBtn" data-next="3">Suivant</button>
          </div>
        </div>

        <!-- STEP 3 -->
        <div class="step" id="step3">
          <div class="centerMsg">tu t‚Äôattends √† quoi ?ü§£</div>
          <div class="gifBox">
            <img alt="gif rire"
                 src="https://media.giphy.com/media/10JhviFuU2gWD6/giphy.gif">
          </div>
          <div class="nextRow">
            <button class="nextBtn" data-next="4">Suivant</button>
          </div>
        </div>

        <!-- STEP 4 (MENACE AVANT) -->
        <div class="step" id="step4">
          <div class="centerMsg">t‚Äôas int√©r√™t √† bien r√©pondre sinon je te quitte</div>
          <div class="gifBox">
            <img alt="gif boude"
                 src="https://media.giphy.com/media/l0HlBO7eyXzSZkJri/giphy.gif">
          </div>
          <div class="nextRow">
            <button class="nextBtn" data-next="5">Suivant</button>
          </div>
        </div>

        <!-- STEP 5 (B√äTE + PLEURE) -->
        <div class="step" id="step5">
          <div class="centerMsg">l√† tu te dis s√ªrement ‚Äúmais il est b√™te lui‚Äù</div>
          <div class="gifBox">
            <img alt="gif qui pleure"
                 src="https://media.giphy.com/media/OPU6wzx8JrHna/giphy.gif">
          </div>
          <div class="nextRow">
            <button class="nextBtn" data-next="6">Suivant</button>
          </div>
        </div>

        <!-- STEP 6 -->
        <div class="step" id="step6">
          <div class="centerMsg">si t‚Äôas tenu jusque-l√†, c‚Äôest d√©j√† un oui dans ma t√™te.</div>
          <div class="nextRow">
            <button class="nextBtn" data-next="7">Suivant</button>
          </div>
        </div>

        <!-- STEP 7: babies question -->
        <div class="step" id="step7">
          <div class="centerMsg">tu veux qu‚Äôon fasses des b√©b√©s?üëÄ</div>
          <div class="btns" style="margin-top:10px">
            <button id="babyYes" style="background:linear-gradient(135deg,var(--pink),var(--pink2));color:#fff;box-shadow:0 14px 30px rgba(255,77,141,.28)">Oui</button>
            <button id="babyNo" style="background:rgba(255,255,255,.14);color:rgba(255,255,255,.88);border:1px solid rgba(255,255,255,.20);box-shadow:0 12px 24px rgba(0,0,0,.25)">Non</button>
          </div>
        </div>

        <!-- STEP 8: more serious -->
        <div class="step" id="step8">
          <div class="centerMsg">hmm‚Ä¶ plus s√©rieusement</div>
          <div class="nextRow">
            <button class="nextBtn" data-next="9">Suivant</button>
          </div>
        </div>

        <!-- STEP 9: valentine question (sans emojis) -->
        <div class="step" id="step9">
          <p class="question">Veux-tu √™tre ma Valentine</p>

          <div class="btns" id="btns">
            <button id="yes">Oui</button>
            <button id="no">Non</button>
          </div>

          <div class="result" id="result">
            <div class="gifBox" style="margin-top:10px">
              <img alt="gif feu d‚Äôartifice"
                   src="https://media.giphy.com/media/26tOZ42Mg6pbTUPHW/giphy.gif">
            </div>
            <h2 id="msg1" style="margin:14px 0 6px"></h2>
            <div class="big" id="msg2" style="font-size:20px;font-weight:800"></div>

            <div class="nextRow" style="margin-top:18px">
              <button class="nextBtn" id="toBon">Suivant</button>
            </div>
          </div>
        </div>

        <!-- STEP 10 -->
        <div class="step" id="step10">
          <div class="centerMsg">bon‚Ä¶ s√©rieusement.</div>
          <div class="nextRow">
            <button class="nextBtn" data-next="11">Suivant</button>
          </div>
        </div>

        <!-- STEP 11: love only -->
        <div class="step" id="step11">
          <div class="centerMsg">je t‚Äôaime odimba</div>
          <div class="nextRow">
            <button class="nextBtn" data-next="12">Suivant</button>
          </div>
        </div>

        <!-- STEP 12: bye + gif -->
        <div class="step" id="step12">
          <div class="centerMsg">maintenant casse toiüíÄ</div>
          <div class="gifBox">
            <img alt="gif au revoir"
                 src="https://media.giphy.com/media/3o7btPCcdNniyf0ArS/giphy.gif">
          </div>
        </div>

      </div>
    </section>
  </main>

  <script>
    const card = document.getElementById('card');
    const steps = Array.from(document.querySelectorAll('.step'));

    function showStep(n){
      steps.forEach(s => s.classList.remove('active'));
      const el = document.getElementById('step'+n);
      if(el) el.classList.add('active');
      if(n === 1) card.classList.add('hideHeader');
      else card.classList.remove('hideHeader');
    }

    document.querySelectorAll('[data-next]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const next = Number(btn.getAttribute('data-next'));
        showStep(next);
      });
    });

    // babies question -> always goes next
    document.getElementById('babyYes').addEventListener('click', ()=> showStep(8));
    document.getElementById('babyNo').addEventListener('click', ()=> showStep(8));

    // Valentine controls
    const yesBtn = document.getElementById('yes');
    const noBtn  = document.getElementById('no');
    const btns   = document.getElementById('btns');
    const result = document.getElementById('result');
    const toBon = document.getElementById('toBon');

    function moveNo(){
      const r = btns.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();
      const pad = 6;
      const maxX = Math.max(pad, r.width - b.width - pad);
      const maxY = 70;
      const x = pad + Math.random()*maxX;
      const y = (-10) + Math.random()*maxY;
      noBtn.style.position = 'absolute';
      noBtn.style.left = x + 'px';
      noBtn.style.top  = y + 'px';
    }
    noBtn.addEventListener('mouseenter', moveNo);
    noBtn.addEventListener('touchstart', (e)=>{ e.preventDefault(); moveNo(); }, {passive:false});
    noBtn.addEventListener('click', (e)=>{ e.preventDefault(); moveNo(); });

    function typeInto(el, text, speed=28){
      el.textContent = "";
      el.classList.add("typewriter");
      let i = 0;
      return new Promise((resolve)=>{
        const tick = () => {
          if (i <= text.length){
            el.textContent = text.slice(0, i);
            i++;
            setTimeout(tick, speed);
          } else {
            setTimeout(()=> el.classList.remove("typewriter"), 650);
            resolve();
          }
        };
        tick();
      });
    }

    // confetti
    const canvas = document.getElementById('c');
    const ctx = canvas.getContext('2d');
    function resize(){
      const dpr = devicePixelRatio || 1;
      canvas.width = innerWidth * dpr;
      canvas.height = innerHeight * dpr;
      canvas.style.width = innerWidth+'px';
      canvas.style.height = innerHeight+'px';
      ctx.setTransform(dpr,0,0,dpr,0,0);
    }
    addEventListener('resize', resize); resize();

    let pieces = [];
    function burstConfetti(){
      canvas.classList.add('show');
      pieces = Array.from({length: 160}, ()=>({
        x: Math.random()*innerWidth,
        y: -20,
        vx: -2 + Math.random()*4,
        vy: 3 + Math.random()*4,
        r: Math.random()*Math.PI,
        vr: -0.12 + Math.random()*0.24,
        w: 6 + Math.random()*8,
        h: 8 + Math.random()*14,
        tone: Math.random(),
        life: 180 + Math.random()*120
      }));
      tick();
      setTimeout(()=> canvas.classList.remove('show'), 2400);
    }
    function draw(p){
      const hue = 320 + p.tone*60;
      ctx.save();
      ctx.translate(p.x, p.y);
      ctx.rotate(p.r);
      ctx.globalAlpha = Math.max(0, Math.min(1, p.life/240));
      ctx.fillStyle = `hsl(${hue}deg 90% 70% / 0.9)`;
      ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
      ctx.restore();
    }
    function tick(){
      ctx.clearRect(0,0,innerWidth,innerHeight);
      for(const p of pieces){
        p.x += p.vx; p.y += p.vy; p.r += p.vr; p.vy += 0.02; p.life -= 1;
        draw(p);
      }
      pieces = pieces.filter(p=>p.life>0 && p.y<innerHeight+60);
      if(pieces.length) requestAnimationFrame(tick);
    }

    const msg1 = document.getElementById('msg1');
    const msg2 = document.getElementById('msg2');

    async function playYes(){
      result.style.display = 'block';
      btns.style.display = 'none';

      msg1.textContent = ""; msg2.textContent = "";
      burstConfetti();

      await typeInto(msg1, "je savais que tu dirais oui, √ßa m‚Äô√©tonne pas", 26);
      await typeInto(msg2, "T‚Äôes accro", 30);

      yesBtn.disabled = true;
      noBtn.disabled = true;
    }
    yesBtn.addEventListener('click', playYes);

    toBon.addEventListener('click', ()=> showStep(10));
  </script>
</body>
</html>
